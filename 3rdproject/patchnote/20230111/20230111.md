
---
# 2023.01.11
## 템플릿 엔진 변경
기존에는 pug를 사용해 프론트엔드 파트의 코드를 작성했습니다. 하지만 이번에 ejs로 변경하면서 이후부터는 ejs로 코드 작성을 할 예정입니다.
### 변경하는 이유
개인적인 불편함 때문입니다. pug는 분명히 간단하고 직관적이라는 장점이 있지만, 반대로 JSP, DjangoHTML, HTML과 같은 다른 템플릿 엔진과 문법 자체가 상이하다는 단점도 존재합니다. 이 부분에 대해서 개인적으로 쭉 불편함을 가지고 있었습니다.

## 페이징 기능 추가
만약 게시판을 호출했을 때, 모든 게시글을 한 페이지에 출력하게 된다면 불러오는 서버 입장에서도, 그리고 그것을 보는 사용자 입장에서도 매우 불편할 것입니다. 그래서 페이지 기능을 통해 이런 불편함을 해소하고자 했습니다.

## multer를 이용한 이미지 업로드 기능 추가
ERR_CONNECTION_REST 에러의 원인을 찾고 고치는 데 성공하여 이미지 업로드 기능을 사용할 수 있게 되었습니다. 

### 에러의 원인
원인은 바로 파일 실행시 사용한 node 패키지였습니다. 파일 편집에 있어 편리한 supervisor 패키지를 이용해 자바스크립트 파일을 실행시켰었는데, 이 부분이 에러의 원인이 되어 미디어 업로드 기능이 제대로 작동하지 않았습니다.
### 왜 supervisor 패키지를 사용했을 때 에러가 발생했는가?
supervisor 패키지로 자바스크립트 파일을 호출하면, 파일을 다 읽을 때마다 다시 파일을 호출하는 과정이 무한하게 진행됩니다. 이 과정에서 이미 진행되었던 명령어와 진행될 예정이던 명령어에 혼선이 생겼고, 그 결과 TCP 패킷 교환에 실패하게 되면서 오류가 발생한 것으로 추측됩니다.
### 어떻게 해결했는가?
자바스크립트 파일을 호출하는 기본적인 방식인 node ~ 방식을 이용하여 파일을 호출하면서 오류를 해결했습니다.

---